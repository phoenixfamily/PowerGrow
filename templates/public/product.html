{% extends 'public/base.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="fa">
<head>
    {% block title %}دوره {{ product.title }} باشگاه ورزشی حجاب {% endblock %}
</head>
<body>

{% block header %}
    <!-- آیتم‌های منو -->
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
            <li class="nav-item">
                <a class="nav-link active" href="{% url 'home:home-view' %}">خانه</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'product:sport-view' %}">دوره ها</a>
            </li>

            <li class="nav-item">
                <a class="nav-link disabled" href="{% url 'reservation:reservation-view' %}">رزرو سالن</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'about:about-view' %}">درباره ما</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'user:login' %}">ورود و عضویت</a>
            </li>
        </ul>
    </div>
{% endblock %}



{% block content %}
    <section class="hero-split py-5">
        <div class="container-fluid px-lg-5">
            <div class="row g-5 align-items-stretch">

                <!-- متن سمت راست -->
                <div class="col-lg-6 d-flex">
                    <div class="ground-box text-white rounded p-4 w-100 d-flex flex-column justify-content-center">
                        <h2 class="fw-bold mb-4">{{ product.title }}</h2>

                        <div class="d-flex flex-column gap-4">

                            <div class="d-flex gap-3 align-items-start">
                                <i class="fa fa-calendar-check fa-2x"></i>
                                <div>
                                    <h5 class="mb-1">نوع دوره</h5>
                                    <p class="mb-0 small text-white ">
                                        {% if product.type == "public" %}
                                            عمومی
                                        {% elif product.type == "private" %}
                                            خصوصی
                                        {% elif product.type == "semi_private" %}
                                            نیمه خصوصی
                                        {% endif %}
                                    </p>
                                </div>
                            </div>

                            <div class="d-flex gap-3 align-items-start">
                                <i class="fa fa-clock fa-2x"></i>
                                <div>
                                    <h5 class="mb-1">زمان دوره</h5>
                                    <p class="mb-0 small text-white ">{{ product.time }}</p>
                                </div>
                            </div>

                            <div class="d-flex gap-3 align-items-start">
                                <i class="fa fa-calendar-check fa-2x"></i>
                                <div>
                                    <h5 class="mb-1">جنسبت دوره</h5>
                                    <p class="mb-0 small text-white ">
                                        {% if product.gender == "male" %}
                                            آقایان
                                        {% elif product.gender == "female" %}
                                            بانوان
                                        {% endif %}
                                    </p>
                                </div>
                            </div>

                            <div class="d-flex gap-3 align-items-start">
                                <i class="fa fa-user-tie fa-2x"></i>
                                <div>
                                    <h5 class="mb-1">مربی</h5>
                                    <p class="mb-0 small text-white ">{{ product.name }}</p>
                                </div>
                            </div>

                            <div class="d-flex gap-3 align-items-start">
                                <i class="fa fa-users fa-2x"></i>
                                <div>
                                    <h5 class="mb-1">ظرفیت باقی‌مانده</h5>
                                    <p class="mb-0 small text-white ">3 نفر</p>
                                </div>
                            </div>

                            <div class="d-flex gap-3 align-items-start">
                                <i class="fa fa-money-bill-wave fa-2x"></i>
                                <div>
                                    <h5 class="mb-1">شهریه</h5>
                                    <p class="mb-0 small text-white ">-</p>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <!-- عکس سمت چپ -->
                <div class="col-lg-6 d-flex">
                    <div class="img-wrapper w-100 d-flex align-items-center justify-content-center">
                        <img src="{% static 'images/hero.png' %}" alt="باشگاه بانوان" class="img-fluid rounded shadow">
                    </div>
                </div>

            </div>
        </div>
    </section>


{% endblock %}


</body>
</html>

{#<nav class="navbar navbar-dark navbar-expand-lg w-100 ">#}
{##}
{#    <!-- Toggler/collapsibe Button -->#}
{#    <button style="outline: none; box-shadow: none;" class="navbar-toggler justify-content-center" type="button"#}
{#            data-toggle="collapse" data-bs-toggle="collapse" data-target="#collapsibleNavbar"#}
{#            data-bs-target="#collapsibleNavbar" aria-controls="navbarSupportedContent" aria-expanded="false"#}
{#            aria-label="Toggle navigation">#}
{#        <span class="" role="button"><i class="fa fa-bars" aria-hidden="true" style="color:#e6e6ff"></i></span>#}
{#    </button>#}
{#    <!-- Navbar links -->#}
{#    <div class="collapse navbar-collapse" id="collapsibleNavbar">#}
{#        <ul class="nav navbar-nav">#}
{#            <li class="nav-item">#}
{#                <a class="nav-link" aria-current="page" href='{% url 'home:home' %}'>صفحه اصلی</a>#}
{#            </li>#}
{#            <li class="nav-item dropdown">#}
{#                <a class="nav-link dropdown-toggle active" data-bs-toggle="dropdown" href="#" role="button"#}
{#                   aria-expanded="false">{{ product.title }}</a>#}
{#                <ul class="dropdown-menu">#}
{#                    {% for x in sport %}#}
{#                        <li><a class="dropdown-item" href="{% url 'product:category_view' x.id %}">{{ x.title }}</a>#}
{#                        </li>#}
{#                    {% endfor %}#}
{#                </ul>#}
{#            </li>#}
{#            <li class="nav-item disabled">#}
{#                <a class="nav-link disabled" href="{% url 'reservation:reservation' %}">اجاره سالن</a>#}
{#            </li>#}
{#            <li class="nav-item">#}
{#                <a class="nav-link" href='{% url 'about:aboutUs' %}'>درباره ما</a>#}
{#            </li>#}
{##}
{#            <li class="nav-item">#}
{#                <a class="nav-link" href='{% url 'user:login' %}'>ورود و عضویت</a>#}
{#            </li>#}
{#        </ul>#}
{#    </div>#}
{#</nav>#}
{##}
{#<div class="logoHolder">#}
{##}
{#    <img alt="" src="{% get_media_prefix %}{{ about.logo }}" class="logo">#}
{#    <div class="typography">PowerGrow</div>#}
{##}
{#</div>#}
{##}
{#<div>#}
{#    <img class="img-fluid product-img " src="/media/{{ product.image }}" alt="product">#}
{#</div>#}
{##}
{#<div id="card-holder" class="card_holder">#}
{#    <div class="card justify-content-center" id="card">#}
{#        <ul class="list-group list-group-flush">#}
{#            <li class="list-group-item d-flex justify-content-between align-items-center mb-1" dir="rtl">#}
{#                <h6 class="mb-0 text-end">نام دوره:</h6>#}
{#                <h6 class="mb-0 text-start">{{ product.title }} (#}

{#                    )#}
{#                </h6>#}
{#            </li>#}
{##}
{#            <li class="list-group-item d-flex justify-content-between align-items-center mb-1" dir="rtl">#}
{#                <h6 class="mb-0 text-end">نام مربی:</h6>#}
{#                <h6 class="mb-0 text-start">{{ product.name }}</h6>#}
{#            </li>#}
{##}
{#            <li class="list-group-item d-flex justify-content-between align-items-center mb-1" dir="rtl">#}
{#                <h6 class="mb-0 text-end">نوع دوره:</h6>#}
{#                <h6 class="mb-0 text-start">#}
{#                </h6>#}
{#            </li>#}
{##}
{#            <li class="list-group-item d-flex justify-content-between align-items-center list-group-item-fixed mb-1"#}
{#                dir="rtl">#}
{#                <h6 class="mb-0 text-end">ظرفیت باقی مانده:</h6>#}
{#                <h6 id="number" class="mb-0 text-start"></h6>#}
{#            </li>#}
{##}
{#            <li class="list-group-item d-flex justify-content-between align-items-center list-group-item-fixed mb-1"#}
{#                dir="rtl">#}
{#                <h6 class="mb-0 text-end">روزهای برگزاری:</h6>#}
{#                <h6 id="daySession" class="mb-0 text-start"></h6>#}
{#            </li>#}
{##}
{#            <li class="list-group-item d-flex justify-content-between align-items-center list-group-item-fixed mb-1"#}
{#                dir="rtl">#}
{#                <h6 class="mb-0 text-end">ساعت برگزاری:</h6>#}
{#                <h6 class="mb-0 text-start">{{ product.time }}</h6>#}
{#            </li>#}
{##}
{#            <li class="list-group-item d-flex justify-content-between align-items-center list-group-item-fixed mb-1"#}
{#                dir="rtl">#}
{#                <h6 class="mb-0 text-end">تاریخ شروع:</h6>#}
{#                <h6 id="startDay" class="mb-0 text-start"></h6>#}
{#            </li>#}
{##}
{#            <li class="list-group-item d-flex justify-content-between align-items-center list-group-item-fixed mb-1"#}
{#                dir="rtl">#}
{#                <h6 class="mb-0 text-end">تعداد جلسات:</h6>#}
{#                <h6 id="sessionNumber" class="mb-0 text-start"></h6>#}
{#            </li>#}
{##}
{#            <li class="list-group-item d-flex justify-content-between align-items-center list-group-item-fixed mb-1"#}
{#                dir="rtl">#}
{#                <h6 class="mb-0 text-end">شهریه ثابت:</h6>#}
{#                <h6 id="price" class="mb-0 text-start"></h6>#}
{#            </li>#}
{##}
{#            <li class="list-group-item d-flex justify-content-between align-items-center list-group-item-fixed mb-1"#}
{#                dir="rtl">#}
{#                <h6 class="mb-0 text-end">تخفیف:</h6>#}
{#                <h6 id="off" class="mb-0 text-start"></h6>#}
{#            </li>#}
{##}
{#            <li class="list-group-item d-flex justify-content-between align-items-center list-group-item-fixed mb-1"#}
{#                dir="rtl">#}
{#                <h6 class="mb-0 text-end">قیمت نهایی:</h6>#}
{#                <h6 id="final" class="mb-0 text-start"></h6>#}
{#            </li>#}
{#        </ul>#}
{#        <div class="d-flex justify-content-center align-items-center">#}
{#            <button id="registerButton" class="btn mx-3 my-3 w-80" style="background-color:#E16539 ; color: white ">#}
{#                ثبت نام#}
{#            </button>#}
{#        </div>#}
{#    </div>#}
{#</div>#}
{##}
{#<div class="custom-container">#}
{#    <div class="date-picker">#}
{#        <div class="month">#}
{#            <ul>#}
{#                 {% if product.previous %}#}
{#                     <li id="prev" class="prev disabled">&#10094;</li>#}
{#                     <li id="monthTitle"></li>#}
{#                     <li id="next " class="next disabled">&#10095;</li>#}
{#                 {% else %}#}
{#                     <li id="prev" class="prev">&#10094;</li>#}
{#                     <li id="monthTitle"></li>#}
{#                     <li id="next" class="next">&#10095;</li>#}
{#                 {% endif %}#}
{##}
{#            </ul>#}
{#            <span id="yearTitle" style="font-size: 18px;"></span>#}
{#        </div>#}
{#        <ul class="weekdays">#}
{#            <li>ش</li>#}
{#            <li>ی</li>#}
{#            <li>د</li>#}
{#            <li>س</li>#}
{#            <li>چ</li>#}
{#            <li>پ</li>#}
{#            <li>ج</li>#}
{#        </ul>#}
{#        <ul id="days" class="days">#}
{#            <!-- روزها از سمت سرور می‌آیند -->#}
{#        </ul>#}
{#    </div>#}
{##}
{#    <div class="time-picker">#}
{#        <div class="time-body">#}
{#            <div class="form-group my-5">#}
{#                <label for="session">تعداد جلسات در ماه را انتخاب کنید:</label>#}
{#                <select class="form-control mt-1" name="session" id="session">#}
{#                    <option value="" disabled selected>جلسه را انتخاب کنید</option>#}
{#                    {% for x in session %}#}
{#                        <option value="{{ x.id }}">{{ x.number }} جلسه</option>#}
{#                    {% endfor %}#}
{#                </select>#}
{#            </div>#}
{#            <div class="form-group my-5">#}
{#                <label for="week">روزهای برگزاری در هفته را مشخص کنید:</label>#}
{#                <select class="form-control mt-1" name="week" id="week">#}
{#                    <option value="">لطفاً اول جلسه را انتخاب کنید</option>#}
{#                </select>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#</div>#}
{##}
{##}
{#<div class="description-container">#}
{#    <div class="description p-4 border" style="border-radius: 1rem;">#}
{#        <p class="text-end" style="font-size: 20px;">#}
{#            {% autoescape off %}#}
{#                {{ product.description|linebreaksbr }}#}
{#            {% endautoescape %}#}
{#        </p>#}
{#    </div>#}
{#</div>#}
{##}
{##}
{#<footer class="footer text-white pt-4">#}
{#    <div class="container-fluid p-0">#}
{#        <div class="row align-items-center py-4" dir="rtl" style="background-color: #312f2e">#}
{#            <!-- Info Section -->#}
{#            <div class="col-md-4">#}
{#                <ul class="list-unstyled">#}
{#                    <li class="mb-5">#}
{#                        <div class="d-flex align-items-start">#}
{#                            <i class="fa-solid fa-location-dot fa-2x mr-3"></i>#}
{#                            <h5 class="mb-0 me-2">{{ about.address|linebreaksbr }}</h5>#}
{#                        </div>#}
{#                    </li>#}
{#                    <li class="mb-5">#}
{#                        <div class="d-flex align-items-start">#}
{#                            <i class="fa-solid fa-phone-flip fa-2x mr-3"></i>#}
{#                            <h5 class="mb-0 me-2">{{ about.phone }}<br>{{ about.telephone }}</h5>#}
{#                        </div>#}
{#                    </li>#}
{#                    <li class="mb-2">#}
{#                        <div class="d-flex align-items-start">#}
{#                            <i class="fa-brands fa-instagram fa-2x mr-3"></i>#}
{#                            <h5 class="mb-0 me-2">{{ about.instagram }}</h5>#}
{#                        </div>#}
{#                    </li>#}
{#                </ul>#}
{#            </div>#}
{##}
{#            <!-- Map Section -->#}
{#            <div class="col-md-4 d-flex justify-content-center mb-4">#}
{#                <div id="map" class="img-fluid bg-light" style="width: 60%; height: 250px;"></div>#}
{#            </div>#}
{##}
{#            <!-- Logo Section -->#}
{#            <div class="col-md-4 text-center mb-4">#}
{#                <h3>PowerGrow</h3>#}
{#                <img class="img-fluid mb-3" style="max-width: 200px; height: auto"#}
{#                     src="/media/{{ about.transparent_logo }}" alt="Logo">#}
{#            </div>#}
{#        </div>#}
{##}
{#        <!-- Copyright Section -->#}
{#        <div class="row bg-dark">#}
{#            <div class="col-md-12 d-flex justify-content-between align-items-center py-3">#}
{#                <a class="mb-0 ms-3" href="https://abbaslotfinasab.com/" style="color: white; text-decoration: none"#}
{#                   target="_blank">&copy; <span id="year">2023</span> AbbasLotfinasab, All rights reserved.</a>#}
{##}
{#                <div class="d-flex align-items-center ms-auto">#}
{#                    <span class="d-inline me-1">Follow us:</span>#}
{#                    <a href="//www.instagram.com/abbas_lotfinasab?igsh=MmVlMjlkMTBhMg==" class="text-white ms-2 me-2">#}
{#                        <i class="fa-brands fa-instagram fa-2x"></i>#}
{#                    </a>#}
{#                    <a href="//www.linkedin.com/in/abbaslotfinasab" class="text-white ms-2 me-2">#}
{#                        <i class="fa-brands fa-linkedin fa-2x"></i>#}
{#                    </a>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#</footer>#}
{##}
{#<script>#}
{##}
{#    let lat = {{ about.latitude }};#}
{#    let long = {{ about.longitude }};#}
{##}
{#    const map = new nmp_mapboxgl.Map({#}
{#        mapType: nmp_mapboxgl.Map.neshanVector,#}
{#        container: "map",#}
{#        zoom: 15,#}
{#        pitch: 0,#}
{#        center: [long, lat],#}
{#        minZoom: 2,#}
{#        maxZoom: 21,#}
{#        trackResize: false,#}
{#        mapKey: "web.3c30ab5c27a242d19aab4bca4e973288",#}
{#        poi: true,#}
{#        traffic: true,#}
{#        mapTypeControllerStatus: {#}
{#            show: false,#}
{#        }#}
{#    });#}
{##}
{#</script>#}
{##}
{#<script>#}
{##}
{#    let calendar = document.getElementById("calendar")#}
{#    let monthTitle = document.getElementById("monthTitle")#}
{#    let yearTitle = document.getElementById("yearTitle")#}
{#    let prev = document.getElementById("next")#}
{#    let next = document.getElementById("prev")#}
{#    let days = document.getElementById("days")#}
{#    let result#}
{#    let monthSize#}
{#    let date#}
{#    let startDay = document.getElementById("startDay")#}
{#    let currentDayId#}
{#    let today = new Date().toLocaleDateString('fa-IR');#}
{#    today = today.split('/')#}
{#    let currentDay = today[2].replace(/[۰-۹]/g, w => String.fromCharCode(w.charCodeAt(0) - 1728))#}
{#    let currentMonth = today[1].replace(/[۰-۹]/g, w => String.fromCharCode(w.charCodeAt(0) - 1728))#}
{#    let currentYear = today[0].replace(/[۰-۹]/g, w => String.fromCharCode(w.charCodeAt(0) - 1728))#}
{#    let thisYear = today[0].replace(/[۰-۹]/g, w => String.fromCharCode(w.charCodeAt(0) - 1728))#}
{#    let monthPosition = currentMonth - 1#}
{##}
{##}
{#    document.addEventListener("DOMContentLoaded", function () {#}
{#        getYear()#}
{##}
{#        console.log(currentYear)#}
{#        console.log(thisYear)#}
{##}
{#    });#}
{##}
{#    next.addEventListener("click", function () {#}
{#        if (monthPosition > 0) {#}
{#            monthPosition = monthPosition - 1#}
{#            getDays(monthPosition)#}
{#        } else if (monthPosition === 0) {#}
{#            if (currentYear > 1402) {#}
{#                currentYear = parseInt(currentYear) - 1#}
{#                getYear(currentYear)#}
{#            }#}
{#        }#}
{#    })#}
{##}
{#    prev.addEventListener("click", function () {#}
{#        if (monthPosition < monthSize - 1) {#}
{#            monthPosition = monthPosition + 1#}
{#            getDays(monthPosition)#}
{#        } else if (monthPosition === monthSize - 1) {#}
{#            if (currentYear < 1404) {#}
{#                currentYear = parseInt(currentYear) + 1#}
{#                getYear(currentYear)#}
{#            }#}
{#        }#}
{#    })#}
{##}
{#    async function getYear() {#}
{#        const response = await fetch(`/calendar/api/year/${currentYear}/`, {#}
{#            method: 'GET',#}
{#            headers: {#}
{#                'Content-Type': 'application/json',#}
{#            },#}
{#        });#}
{##}
{#        result = await response.json();#}
{#        result = JSON.parse(JSON.stringify(result));#}
{#        monthSize = result[0].months.length;#}
{##}
{#        yearTitle.innerHTML = result[0].number;#}
{##}
{#        if (parseInt(currentYear) < parseInt(thisYear)) {  // اگر سال قبل از سال جاری است، آخرین ماه نمایش داده شود#}
{#            monthPosition = monthSize - 1;#}
{#        } else if (parseInt(currentYear) === parseInt(thisYear)) { // اگر سال جاری است، ماه فعلی نمایش داده شود#}
{#            monthPosition = currentMonth - 1;#}
{#        } else { // اگر سال آینده است، اولین ماه نمایش داده شود#}
{#            monthPosition = 0;#}
{#        }#}
{##}
{#        getDays(monthPosition);#}
{#    }#}
{##}
{#    function getDays(monthPosition) {#}
{#        monthTitle.innerHTML = result[0].months[monthPosition].name;#}
{#        days.innerHTML = "";#}
{#        startDay.innerHTML = "";#}
{##}
{#        const emptyDay = document.createElement("li");#}
{#        emptyDay.innerHTML = ' ';#}
{##}
{#        switch (result[0].months[monthPosition].startDay) {#}
{##}
{#            case "یکشنبه" :#}
{#                const empty0 = document.createElement("li")#}
{#                days.appendChild(empty0)#}
{#                break#}
{#            case "دوشنبه" :#}
{#                const empty1 = document.createElement("li")#}
{#                days.appendChild(empty1)#}
{#                const empty2 = document.createElement("li")#}
{#                days.appendChild(empty2)#}
{#                break#}
{##}
{#            case "سه شنبه" :#}
{#                const empty3 = document.createElement("li")#}
{#                days.appendChild(empty3)#}
{#                const empty4 = document.createElement("li")#}
{#                days.appendChild(empty4)#}
{#                const empty5 = document.createElement("li")#}
{#                days.appendChild(empty5)#}
{#                break#}
{#            case "چهارشنبه" :#}
{#                const empty6 = document.createElement("li")#}
{#                days.appendChild(empty6)#}
{#                const empty7 = document.createElement("li")#}
{#                days.appendChild(empty7)#}
{#                const empty9 = document.createElement("li")#}
{#                days.appendChild(empty9)#}
{#                const empty10 = document.createElement("li")#}
{#                days.appendChild(empty10)#}
{##}
{#                break#}
{#            case "پنجشنبه" :#}
{#                const empty11 = document.createElement("li")#}
{#                days.appendChild(empty11)#}
{#                const empty12 = document.createElement("li")#}
{#                days.appendChild(empty12)#}
{#                const empty13 = document.createElement("li")#}
{#                days.appendChild(empty13)#}
{#                const empty14 = document.createElement("li")#}
{#                days.appendChild(empty14)#}
{#                const empty15 = document.createElement("li")#}
{#                days.appendChild(empty15)#}
{#                break#}
{#            case "جمعه" :#}
{#                const empty16 = document.createElement("li")#}
{#                days.appendChild(empty16)#}
{#                const empty17 = document.createElement("li")#}
{#                days.appendChild(empty17)#}
{#                const empty18 = document.createElement("li")#}
{#                days.appendChild(empty18)#}
{#                const empty19 = document.createElement("li")#}
{#                days.appendChild(empty19)#}
{#                const empty20 = document.createElement("li")#}
{#                days.appendChild(empty20)#}
{#                const empty21 = document.createElement("li")#}
{#                days.appendChild(empty21)#}
{#                break#}
{#        }#}
{##}
{#        for (let i = 0; i < result[0].months[monthPosition].days.length; i++) {#}
{#            const dayItem = document.createElement("li");#}
{#            const dayNumber = result[0].months[monthPosition].days[i].number;#}
{#            const monthNumber = result[0].months[monthPosition].number;#}
{#            const yearNumber = result[0].number;#}
{##}
{#            if (result[0].months[monthPosition].days[i].holiday === true && dayNumber > parseInt(currentDay)) {#}
{##}
{#                {% if product.previous %}#}
{#                    dayItem.classList.add("disActiveButton");#}
{#                {% else %}#}
{#                    dayItem.classList.add("holidayButton");#}
{#                    {% endif %}#}
{##}
{#            } else if (yearNumber === parseInt(thisYear) && monthNumber === parseInt(currentMonth) && dayNumber === parseInt(currentDay)) {#}
{#                // روز جاری را مشخص کنیم#}
{#                dayItem.classList.add("activeButton");#}
{#                currentDayId = result[0].months[monthPosition].days[i].id;#}
{#                startDay.innerHTML = `${yearNumber}/${monthNumber}/${dayNumber}`;#}
{#                date = `${yearNumber}-${monthNumber}-${dayNumber}`;#}
{#            } else if (#}
{#                (yearNumber < parseInt(thisYear)) || // فقط سال‌های گذشته غیرفعال شود#}
{#                (yearNumber === parseInt(thisYear) && monthNumber < parseInt(currentMonth)) || // فقط ماه‌های گذشته غیر فعال شود#}
{#                (yearNumber === parseInt(thisYear) && monthNumber === parseInt(currentMonth) && dayNumber < parseInt(currentDay)) // روزهای گذشته در همان ماه غیر فعال شوند#}
{#            ) {#}
{#                dayItem.classList.add("disActiveButton");#}
{#            }#}
{#            else {#}
{##}
{#                 {% if product.previous %}#}
{#                    dayItem.classList.add("disActiveButton");#}
{#                 {% endif %}#}
{#            }#}
{##}
{#            dayItem.innerHTML = dayNumber;#}
{#            dayItem.setAttribute("itemid", result[0].months[monthPosition].days[i].id);#}
{#            days.appendChild(dayItem);#}
{#        }#}
{##}
{#        const buttons = document.querySelectorAll('.days li');#}
{#        Array.from(buttons).forEach(function (button) {#}
{#            button.addEventListener('click', async function () {#}
{#                const selected = document.querySelectorAll('.activeButton')#}
{#                Array.from(selected).forEach(function (btn) {#}
{#                    btn.classList.remove("activeButton")#}
{#                })#}
{#                button.classList.add("activeButton")#}
{#                currentDayId = button.getAttribute("itemid")#}
{#                startDay.innerHTML = `${result[0].number}/${result[0].months[monthPosition].number}/${button.textContent}`#}
{#                date = `${result[0].number}-${result[0].months[monthPosition].number}-${button.textContent}`#}
{##}
{#            })#}
{#        })#}
{#    }#}
{##}
{#</script>#}
{##}
{##}
{#<script>#}
{#    let sessionId = 0#}
{#    let dayId = 0#}
{##}
{#    document.addEventListener('DOMContentLoaded', function () {#}
{#        const sessionSelect = document.getElementById('session');#}
{#        const weekSelect = document.getElementById('week');#}
{#        const sessionNumberDisplay = document.getElementById('sessionNumber');#}
{#        const daysSessionDisplay = document.getElementById('daySession');#}
{#        const priceDisplay = document.getElementById('price');#}
{#        const offDisplay = document.getElementById('off');#}
{#        const finalDisplay = document.getElementById('final');#}
{##}
{##}
{#        // در بارگذاری اولیه#}
{#        if (sessionSelect.value) {#}
{#            sessionNumberDisplay.textContent = sessionSelect.options[sessionSelect.selectedIndex].text;#}
{#            sessionId = sessionSelect.value#}
{#        }#}
{##}
{#        sessionSelect.addEventListener('change', function () {#}
{#            sessionId = this.value;#}
{#            sessionNumberDisplay.textContent = this.options[this.selectedIndex].text;#}
{##}
{#            fetch(`{% url 'product:get_days_for_session' %}?session_id=${sessionId}`)#}
{#                .then(response => response.json())#}
{#                .then(data => {#}
{#                    weekSelect.innerHTML = ''; // پاک کردن گزینه‌های قبلی#}
{#                    data.forEach(day => {#}
{#                        const option = document.createElement('option');#}
{#                        option.value = day.id;#}
{#                        option.setAttribute('data-custom1', `${day.tuition}`)#}
{#                        option.setAttribute('data-custom2', `${day.off}`)#}
{#                        option.textContent = day.title;#}
{#                        weekSelect.appendChild(option);#}
{#                    });#}
{##}
{#                    // اگر گزینه‌ای وجود دارد، مقدار daysSessionDisplay را به‌روز کن#}
{#                    if (weekSelect.options.length > 0) {#}
{#                        daysSessionDisplay.textContent = weekSelect.options[0].text; // مقدار پیش‌فرض#}
{#                        dayId = weekSelect.options[0].value#}
{#                        let price = parseInt(weekSelect.options[0].getAttribute('data-custom1')); // قیمت اصلی#}
{#                        let discount = parseInt(weekSelect.options[0].getAttribute('data-custom2')); // درصد تخفیف#}
{##}
{#                        priceDisplay.textContent = price + ' تومان '#}
{#                        offDisplay.textContent = discount + '%'#}
{##}
{#                        let finalPrice = price * (1 - discount / 100);#}
{##}
{#                        finalDisplay.textContent = finalPrice + ' تومان';#}
{##}
{#                    } else {#}
{#                        daysSessionDisplay.textContent = ''; // در صورتی که گزینه‌ای وجود نداشته باشد#}
{#                        offDisplay.textContent = ''#}
{#                        dayId = 0#}
{#                        priceDisplay.textContent = ''#}
{#                        finalDisplay.textContent = ''#}
{#                    }#}
{#                })#}
{#                .catch(error => console.error('Error:', error));#}
{#        });#}
{##}
{#        weekSelect.addEventListener('change', function () {#}
{#            daysSessionDisplay.textContent = this.options[this.selectedIndex].text;#}
{#            let price = parseInt(weekSelect.options[this.selectedIndex].getAttribute('data-custom1')); // قیمت اصلی#}
{#            let discount = parseInt(weekSelect.options[this.selectedIndex].getAttribute('data-custom2')); // درصد تخفیف#}
{##}
{#            priceDisplay.textContent = price + ' تومان '#}
{#            offDisplay.textContent = discount + '%'#}
{##}
{#            let finalPrice = price * (1 - discount / 100);#}
{##}
{#            finalDisplay.textContent = finalPrice + ' تومان';#}
{##}
{#            dayId = weekSelect.options[this.selectedIndex].value#}
{#        });#}
{#    });#}
{#</script>#}
{##}
{##}
{#<script>#}
{##}
{#    let counter = 0#}
{#    let capacity = "{{product.capacity}}";#}
{#    let course = "{{ product.id }}";#}
{#    let isEnable = ("{{ product.active }}"?.toLowerCase?.() === 'true');#}
{#    const card = document.getElementById("card")#}
{#    const capacityNumber = document.getElementById("number")#}
{#    const registerButton = document.getElementById("registerButton")#}
{#    let final_price#}
{##}
{#    let year = parseInt(today[0].replace(/[۰-۹]/g, w => String.fromCharCode(w.charCodeAt(0) - 1728)))#}
{#    let month = parseInt(today[1].replace(/[۰-۹]/g, w => String.fromCharCode(w.charCodeAt(0) - 1728)))#}
{#    let monthDay = parseInt(today[2].replace(/[۰-۹]/g, w => String.fromCharCode(w.charCodeAt(0) - 1728)))#}
{##}
{#    const thisDate = jalaali.j2d(year, month, monthDay)#}
{##}
{##}
{#    {% for x in participants.all %}#}
{##}
{#        var userEndYear = parseInt("{{ x.endDay.month.year.number }}");#}
{#        var userEndMonth = parseInt("{{ x.endDay.month.number }}");#}
{#        var userEndDay = parseInt("{{ x.endDay.number }}");#}
{##}
{#        var userEnd = jalaali.j2d(userEndYear, userEndMonth, userEndDay)#}
{##}
{#        if (0 < userEnd) {#}
{#            if (userEnd >= thisDate) {#}
{#                counter = counter + 1#}
{#            }#}
{#        }#}
{##}
{#    {% endfor %}#}
{##}
{##}
{#    capacityNumber.innerHTML = `${counter}/${parseInt(capacity)}`#}
{##}
{##}
{#    if (isEnable === true) {#}
{#        if (parseInt(counter) < parseInt(capacity)) {#}
{#            registerButton.disabled = false;#}
{#            {% if product.previous %}#}
{#                registerButton.innerHTML = "پیش ثبت نام";#}
{#            {% else %}#}
{#                registerButton.innerHTML = "ثبت نام کنید";#}
{#            {% endif %}#}
{#        } else {#}
{#            registerButton.disabled = true;#}
{#            registerButton.innerHTML = "ظرفیت تکمیل است";#}
{#        }#}
{#    } else {#}
{#        registerButton.disabled = true;#}
{#        registerButton.innerHTML = "دوره منقضی شده است";#}
{#    }#}
{##}
{#    card.appendChild(registerButton)#}
{##}
{#    registerButton.addEventListener('click', function () {#}
{##}
{#        if (sessionId !== 0 && dayId !== 0) {#}
{#            window.location.assign(`/product/payment/${course}/${sessionId}/${dayId}/${currentDayId}`)#}
{#        } else if (sessionId === 0) {#}
{#            alert("لطفا اول جلسه را انتخاب کنید")#}
{#        } else if (dayId === 0) {#}
{#            alert("لطفا روز را انتخاب کنید")#}
{#        } else {#}
{#            alert("تمامی موارد الزامی است")#}
{#        }#}
{##}
{#    })#}
{##}
{#</script>#}
